!function e(t,n,i){function o(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){var n=t[a][1][e];return o(n?n:e)},d,d.exports,e,t,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("./components/photo-grid"),s=i(a),l=e("./components/menu"),h=i(l),d=function(){function e(){o(this,e),this.photoGrid=new s.default;var t=this.photoGrid.requestPhotos.bind(this.photoGrid);this.menu=new h.default(t)}return r(e,[{key:"render",value:function(){var e=document.createElement("div");return e.className="app",e.appendChild(this.photoGrid.render()),e.appendChild(this.menu.render()),e}}]),e}();n.default=d},{"./components/menu":3,"./components/photo-grid":4}],2:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("./utils"),s=i(a),l=function(){function e(t){o(this,e),this.photoset=t,this.handleNext=this.handleNext.bind(this),this.nextBtn=document.createElement("a"),this.nextBtn.innerHTML="&#10095;",this.nextBtn.className="next-btn",this.nextBtn.onclick=this.handleNext,this.handlePrev=this.handlePrev.bind(this),this.prevBtn=document.createElement("a"),this.prevBtn.innerHTML="&#10094;",this.prevBtn.className="prev-btn",this.prevBtn.onclick=this.handlePrev,this.handleClose=this.handleClose.bind(this);var n=document.createElement("a");n.innerHTML="&#215;",n.className="close-btn",n.onclick=this.handleClose;var i=document.createElement("div");this.caption=document.createElement("div"),this.caption.className="caption",this.photoContainer=document.createElement("div"),this.photoContainer.className="photo-container",this.photoContainer.appendChild(i),this.photoContainer.appendChild(this.caption),this.lightBox=document.createElement("div"),this.lightBox.id="lightbox",this.lightBox.appendChild(n),this.lightBox.appendChild(this.photoContainer),this.lightBox.appendChild(this.nextBtn),this.lightBox.appendChild(this.prevBtn),this.handleKey=this.handleKey.bind(this),document.addEventListener("keydown",this.handleKey)}return r(e,[{key:"handleNext",value:function(e){e.preventDefault(),this.index<this.photoset.length-1?(this.index+=1,this.prevBtn.style.display="inline",this.render(this.photoset[this.index],this.index)):this.nextBtn.style.display="none"}},{key:"handlePrev",value:function(e){e.preventDefault(),this.index>0?(this.index-=1,this.nextBtn.style.display="inline",this.render(this.photoset[this.index],this.index)):this.prevBtn.style.display="none"}},{key:"handleClose",value:function(e){e.preventDefault(),document.body.removeChild(this.lightBox),document.removeEventListener("keydown",this.handleKey)}},{key:"handleKey",value:function(e){switch(e.keyCode){case 39:this.handleNext(e);break;case 37:this.handlePrev(e);break;case 27:this.handleClose(e)}}},{key:"render",value:function(e,t){this.index=t,this.index>0&&this.index<this.photoset.length-1?(this.nextBtn.style.display="inline",this.prevBtn.style.display="inline"):0==this.index?this.prevBtn.style.display="none":this.index==this.photoset.length-1&&(this.nextBtn.style.display="none");var n=s.default.CONSTANTS.IMG_HOST+e.farm+"/"+e.server+"/"+e.id+"_"+e.secret+".jpg",i=document.createElement("img");i.id="photo",i.src=n;var o=this.photoContainer.childNodes[0];o&&(this.photoContainer.replaceChild(i,o),i.className="photo"),this.caption.innerText=e.title,document.body.appendChild(this.lightBox),this.lightBox.className="lightbox"}}]),e}();n.default=l},{"./utils":6}],3:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("./utils"),s=i(a),l=function(){function e(t){o(this,e),this.menuAction=t,this.handleMenuAction=this.handleMenuAction.bind(this),this.index=1}return r(e,[{key:"handleMenuAction",value:function(e){e.preventDefault();var t=s.default.CONSTANTS.PHOTO_SET;this.menuAction(this.index),this.index++,this.index==t.length&&(this.index=0)}},{key:"render",value:function(){var e=document.createElement("a");e.className="menu-btn",e.innerText="â†» load more photos",e.onclick=this.handleMenuAction;var t=document.createElement("div");t.className="menu",t.appendChild(e);var n=document.createElement("footer");return n.className="footer",n.appendChild(t),n}}]),e}();n.default=l},{"./utils":6}],4:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("./photo"),s=i(a),l=e("./utils"),h=i(l),d=e("./lightbox"),u=i(d),c=function(){function e(){o(this,e),this.title=document.createElement("div"),this.title.className="photoset-title",this.ownerName=document.createElement("div"),this.ownerName.className="owner-name",this.header=document.createElement("li"),this.header.className="header",this.header.appendChild(this.title),this.header.appendChild(this.ownerName),this.photoGrid=document.createElement("ul"),this.photoGrid.className="photo-grid",this.photoGrid.id="photo-grid",this.photoGrid.appendChild(this.header),this.requestPhotos()}return r(e,[{key:"requestPhotos",value:function(e){var t=e?e:0,n=h.default.CONSTANTS.API_HOST+h.default.CONSTANTS.API_QUERY_STRING+h.default.CONSTANTS.PHOTO_SET[t];h.default.xhr(n,this.render.bind(this))}},{key:"emptyPhotoGrid",value:function(){for(;this.photoGrid.childElementCount>1;)this.photoGrid.removeChild(this.photoGrid.lastChild)}},{key:"render",value:function(e){var t=this;if(e){var n=JSON.parse(e),i=n.photoset;i&&!function(){t.title.innerText="#"+i.title,t.ownerName.innerText="@"+i.ownername,t.lightBox=new u.default(i.photo);var e=t.lightBox.render.bind(t.lightBox);t.emptyPhotoGrid(),i.photo.forEach(function(t,n){var i=new s.default(t,n,e);this.photoGrid.appendChild(i.render())}.bind(t))}()}return this.photoGrid}}]),e}();n.default=c},{"./lightbox":2,"./photo":5,"./utils":6}],5:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("./utils"),s=i(a),l=function(){function e(t,n,i){o(this,e),this.item=t,this.index=n,this.clickAction=i,this.handleClickAction=this.handleClickAction.bind(this)}return r(e,[{key:"handleClickAction",value:function(e){e.preventDefault(),this.clickAction(this.item,this.index)}},{key:"render",value:function(){var e=s.default.CONSTANTS.IMG_HOST+this.item.farm+"/"+this.item.server+"/"+this.item.id+"_"+this.item.secret+"_m.jpg",t=document.createElement("span");t.className="overlay";var n=document.createElement("span");n.className="title",n.innerText=this.item.title;var i=document.createElement("a");i.className="photo-thumbnail",i.onclick=this.handleClickAction,i.style.backgroundImage="url('"+e+"')",i.appendChild(t),i.appendChild(n);var o=document.createElement("li");return o.appendChild(i),o}}]),e}();n.default=l},{"./utils":6}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={xhr:function e(t,n){var e=new XMLHttpRequest;e.onreadystatechange=function(){e.readyState==XMLHttpRequest.DONE&&200==e.status&&n(e.responseText)},e.open("GET",t,!0),e.send()},CONSTANTS:{API_HOST:"https://api.flickr.com/services/rest/",API_QUERY_STRING:"?method=flickr.photosets.getPhotos&format=json&nojsoncallback=1&api_key=4e4e0d1c667cb6e65d3af06d88cebe6d&photoset_id=",PHOTO_SET:["72157624439393875","72157661422082384","72157623692742906","72157623459524476","72157623173893194"],IMG_HOST:"//c2.staticflickr.com/"}};n.default=i},{}],7:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o=e("./app"),r=i(o),a=new r.default;document.getElementById("assignment").appendChild(a.render())},{"./app":1}]},{},[7]);
//# sourceMappingURL=maps/lightbox.min.js.map
