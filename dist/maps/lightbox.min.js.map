{"version":3,"sources":["src/js/index.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_photoGrid","_photoGrid2","_menu","_menu2","App","this","photoGrid","menuAction","requestPhotos","bind","menu","app","document","createElement","className","appendChild","render","./components/menu","./components/photo-grid","2","_utils","_utils2","LightBox","photoset","handleNext","nextBtn","innerHTML","onclick","handlePrev","prevBtn","handleClose","closeBtn","photoPlaceholder","caption","photoContainer","lightBox","id","handleKey","addEventListener","event","preventDefault","index","style","display","body","removeChild","removeEventListener","keyCode","item","photoSrc","CONSTANTS","IMG_HOST","farm","server","secret","photo","src","placeholder","childNodes","replaceChild","innerText","title","./utils","3","Menu","handleMenuAction","photoSet","PHOTO_SET","menuBtn","footer","4","_photo","_photo2","_lightbox","_lightbox2","PhotoGrid","ownerName","header","photoSetId","uri","API_HOST","API_QUERY_STRING","xhr","childElementCount","lastChild","data","_this","JSON","parse","ownername","clickAction","emptyPhotoGrid","forEach","./lightbox","./photo","5","Photo","handleClickAction","thumbnailSrc","overlay","backgroundImage","li","6","Utils","callback","XMLHttpRequest","onreadystatechange","readyState","DONE","status","responseText","open","send","7","_app","_app2","getElementById","./app"],"mappings":"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","file":"lightbox.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _photoGrid = require('./components/photo-grid');\n\nvar _photoGrid2 = _interopRequireDefault(_photoGrid);\n\nvar _menu = require('./components/menu');\n\nvar _menu2 = _interopRequireDefault(_menu);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar App = function () {\n  function App() {\n    _classCallCheck(this, App);\n\n    this.photoGrid = new _photoGrid2.default();\n    var menuAction = this.photoGrid.requestPhotos.bind(this.photoGrid);\n    this.menu = new _menu2.default(menuAction);\n  }\n\n  _createClass(App, [{\n    key: 'render',\n    value: function render() {\n      var app = document.createElement('div');\n      app.className = \"app\";\n      app.appendChild(this.photoGrid.render());\n      app.appendChild(this.menu.render());\n\n      return app;\n    }\n  }]);\n\n  return App;\n}();\n\nexports.default = App;\n\n},{\"./components/menu\":3,\"./components/photo-grid\":4}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LightBox = function () {\n  function LightBox(photoset) {\n    _classCallCheck(this, LightBox);\n\n    this.photoset = photoset;\n\n    // next btn\n    this.handleNext = this.handleNext.bind(this);\n    this.nextBtn = document.createElement('a');\n    this.nextBtn.innerHTML = '&#10095;'; // ❯\n    this.nextBtn.className = 'next-btn';\n    this.nextBtn.onclick = this.handleNext;\n\n    // prev btn\n    this.handlePrev = this.handlePrev.bind(this);\n    this.prevBtn = document.createElement('a');\n    this.prevBtn.innerHTML = '&#10094;'; // ❮\n    this.prevBtn.className = 'prev-btn';\n    this.prevBtn.onclick = this.handlePrev;\n\n    // close button\n    this.handleClose = this.handleClose.bind(this);\n    var closeBtn = document.createElement('a');\n    closeBtn.innerHTML = '&#215;'; // ×\n    closeBtn.className = 'close-btn';\n    closeBtn.onclick = this.handleClose;\n\n    // photo placeholder\n    var photoPlaceholder = document.createElement('div');\n\n    // caption\n    this.caption = document.createElement('div');\n    this.caption.className = 'caption';\n\n    // photo container\n    this.photoContainer = document.createElement('div');\n    this.photoContainer.className = \"photo-container\";\n    this.photoContainer.appendChild(photoPlaceholder);\n    this.photoContainer.appendChild(this.caption);\n\n    // lightbox\n    this.lightBox = document.createElement('div');\n    this.lightBox.id = \"lightbox\";\n    this.lightBox.appendChild(closeBtn);\n    this.lightBox.appendChild(this.photoContainer);\n    this.lightBox.appendChild(this.nextBtn);\n    this.lightBox.appendChild(this.prevBtn);\n\n    // enable keyboard nav\n    this.handleKey = this.handleKey.bind(this);\n    document.addEventListener(\"keydown\", this.handleKey);\n  }\n\n  _createClass(LightBox, [{\n    key: 'handleNext',\n    value: function handleNext(event) {\n      event.preventDefault();\n      if (this.index < this.photoset.length - 1) {\n        this.index += 1;\n        this.prevBtn.style.display = 'inline'; //show prev btn\n        this.render(this.photoset[this.index], this.index);\n      } else {\n        this.nextBtn.style.display = 'none'; //hide next btn\n      }\n    }\n  }, {\n    key: 'handlePrev',\n    value: function handlePrev(event) {\n      event.preventDefault();\n      if (this.index > 0) {\n        this.index -= 1;\n        this.nextBtn.style.display = 'inline'; //show next btn\n        this.render(this.photoset[this.index], this.index);\n      } else {\n        this.prevBtn.style.display = 'none'; //hide prev btn\n      }\n    }\n  }, {\n    key: 'handleClose',\n    value: function handleClose(event) {\n      event.preventDefault();\n      document.body.removeChild(this.lightBox);\n      document.removeEventListener(\"keydown\", this.handleKey); // disable keyboard nav\n    }\n  }, {\n    key: 'handleKey',\n    value: function handleKey(event) {\n      switch (event.keyCode) {\n        case 39:\n          this.handleNext(event);\n          break;\n        case 37:\n          this.handlePrev(event);\n          break;\n        case 27:\n          this.handleClose(event);\n          break;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render(item, index) {\n      this.index = index;\n\n      // next/prev btn visibility\n      if (this.index > 0 && this.index < this.photoset.length - 1) {\n        this.nextBtn.style.display = 'inline'; //show next btn\n        this.prevBtn.style.display = 'inline'; //show prev btn\n      } else if (this.index == 0) {\n        this.prevBtn.style.display = 'none'; //hide prev btn\n      } else if (this.index == this.photoset.length - 1) {\n        this.nextBtn.style.display = 'none'; //hide next btn\n      }\n\n      // photo image\n      var photoSrc = _utils2.default.CONSTANTS.IMG_HOST + item.farm + '/' + item.server + '/' + item.id + '_' + item.secret + '.jpg';\n      var photo = document.createElement('img');\n      photo.id = \"photo\";\n      photo.src = photoSrc;\n\n      // replace placeholder w/ photo\n      var placeholder = this.photoContainer.childNodes[0];\n      if (placeholder) {\n        this.photoContainer.replaceChild(photo, placeholder);\n        photo.className = \"photo\"; //className added here to enable animation\n      }\n\n      // update caption\n      this.caption.innerText = item.title;\n\n      // add lightbox to body\n      document.body.appendChild(this.lightBox);\n      this.lightBox.className = \"lightbox\"; //className added here to enable animation\n    }\n  }]);\n\n  return LightBox;\n}();\n\nexports.default = LightBox;\n\n},{\"./utils\":6}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Menu = function () {\n  function Menu(menuAction) {\n    _classCallCheck(this, Menu);\n\n    this.menuAction = menuAction;\n    this.handleMenuAction = this.handleMenuAction.bind(this);\n    this.index = 1;\n  }\n\n  _createClass(Menu, [{\n    key: 'handleMenuAction',\n    value: function handleMenuAction(event) {\n      event.preventDefault();\n      var photoSet = _utils2.default.CONSTANTS.PHOTO_SET; // array of photoset ids\n      this.menuAction(this.index);\n\n      // cycle photoset array\n      this.index++;\n      if (this.index == photoSet.length) {\n        this.index = 0;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var menuBtn = document.createElement('a');\n      menuBtn.className = \"menu-btn\";\n      menuBtn.innerText = '↻ load more photos';\n      menuBtn.onclick = this.handleMenuAction;\n\n      var menu = document.createElement('div');\n      menu.className = \"menu\";\n      menu.appendChild(menuBtn);\n\n      var footer = document.createElement('footer');\n      footer.className = \"footer\";\n      footer.appendChild(menu);\n\n      return footer;\n    }\n  }]);\n\n  return Menu;\n}();\n\nexports.default = Menu;\n\n},{\"./utils\":6}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _photo = require('./photo');\n\nvar _photo2 = _interopRequireDefault(_photo);\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _lightbox = require('./lightbox');\n\nvar _lightbox2 = _interopRequireDefault(_lightbox);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PhotoGrid = function () {\n  function PhotoGrid() {\n    _classCallCheck(this, PhotoGrid);\n\n    // photoset info\n    this.title = document.createElement('div');\n    this.title.className = \"photoset-title\";\n    this.ownerName = document.createElement('div');\n    this.ownerName.className = \"owner-name\";\n\n    // grid header li\n    this.header = document.createElement('li');\n    this.header.className = \"header\";\n    this.header.appendChild(this.title);\n    this.header.appendChild(this.ownerName);\n\n    // grid ul\n    this.photoGrid = document.createElement('ul');\n    this.photoGrid.className = \"photo-grid\";\n    this.photoGrid.id = \"photo-grid\";\n    this.photoGrid.appendChild(this.header);\n\n    this.requestPhotos();\n  }\n\n  _createClass(PhotoGrid, [{\n    key: 'requestPhotos',\n    value: function requestPhotos(photoSetId) {\n      var id = photoSetId ? photoSetId : 0;\n      var uri = _utils2.default.CONSTANTS.API_HOST + _utils2.default.CONSTANTS.API_QUERY_STRING + _utils2.default.CONSTANTS.PHOTO_SET[id];\n      _utils2.default.xhr(uri, this.render.bind(this));\n    }\n  }, {\n    key: 'emptyPhotoGrid',\n    value: function emptyPhotoGrid() {\n      while (this.photoGrid.childElementCount > 1) {\n        this.photoGrid.removeChild(this.photoGrid.lastChild);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render(data) {\n      var _this = this;\n\n      if (data) {\n        var body = JSON.parse(data);\n        var photoset = body.photoset;\n\n        if (photoset) {\n          (function () {\n            // update photoset info\n            _this.title.innerText = \"#\" + photoset.title;\n            _this.ownerName.innerText = \"@\" + photoset.ownername;\n\n            // initialize lightbox\n            _this.lightBox = new _lightbox2.default(photoset.photo);\n            var clickAction = _this.lightBox.render.bind(_this.lightBox);\n\n            // empty grid before adding new photoset\n            _this.emptyPhotoGrid();\n\n            // build photo grid\n            photoset.photo.forEach(function (item, index) {\n              var photo = new _photo2.default(item, index, clickAction);\n              this.photoGrid.appendChild(photo.render());\n            }.bind(_this));\n          })();\n        }\n      }\n\n      return this.photoGrid;\n    }\n  }]);\n\n  return PhotoGrid;\n}();\n\nexports.default = PhotoGrid;\n\n},{\"./lightbox\":2,\"./photo\":5,\"./utils\":6}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Photo = function () {\n  function Photo(item, index, clickAction) {\n    _classCallCheck(this, Photo);\n\n    this.item = item;\n    this.index = index;\n    this.clickAction = clickAction;\n    this.handleClickAction = this.handleClickAction.bind(this);\n  }\n\n  _createClass(Photo, [{\n    key: 'handleClickAction',\n    value: function handleClickAction(event) {\n      event.preventDefault();\n      this.clickAction(this.item, this.index);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      // photo thumbnail image\n      var thumbnailSrc = _utils2.default.CONSTANTS.IMG_HOST + this.item.farm + '/' + this.item.server + '/' + this.item.id + '_' + this.item.secret + '_m.jpg';\n\n      // overlay\n      var overlay = document.createElement('span');\n      overlay.className = \"overlay\";\n\n      // photo title\n      var title = document.createElement('span');\n      title.className = \"title\";\n      title.innerText = this.item.title;\n\n      // photo\n      var photo = document.createElement('a');\n      photo.className = \"photo-thumbnail\";\n      photo.onclick = this.handleClickAction;\n      photo.style.backgroundImage = \"url('\" + thumbnailSrc + \"')\";\n      photo.appendChild(overlay);\n      photo.appendChild(title);\n\n      // li\n      var li = document.createElement('li');\n      li.appendChild(photo);\n\n      return li;\n    }\n  }]);\n\n  return Photo;\n}();\n\nexports.default = Photo;\n\n},{\"./utils\":6}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Utils = {\n  xhr: function xhr(uri, callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState == XMLHttpRequest.DONE) {\n        if (xhr.status == 200) {\n          callback(xhr.responseText);\n        }\n      }\n    };\n    xhr.open(\"GET\", uri, true);\n    xhr.send();\n  },\n\n  CONSTANTS: {\n    API_HOST: 'https://api.flickr.com/services/rest/',\n    API_QUERY_STRING: '?method=flickr.photosets.getPhotos&format=json&nojsoncallback=1&api_key=4e4e0d1c667cb6e65d3af06d88cebe6d&photoset_id=',\n    PHOTO_SET: ['72157624439393875', '72157661422082384', '72157623692742906', '72157623459524476', '72157623173893194'],\n    IMG_HOST: '//c2.staticflickr.com/'\n  }\n};\nexports.default = Utils;\n\n},{}],7:[function(require,module,exports){\n'use strict';\n\nvar _app = require('./app');\n\nvar _app2 = _interopRequireDefault(_app);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar app = new _app2.default();\ndocument.getElementById('assignment').appendChild(app.render()); // mount app\n\n},{\"./app\":1}]},{},[7]);\n"],"sourceRoot":"/source/"}